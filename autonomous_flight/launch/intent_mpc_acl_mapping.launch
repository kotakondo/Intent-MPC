<launch>
  <!-- Original Intent-MPC parameters -->
  <rosparam file="$(find tracking_controller)/cfg/controller_param.yaml" ns="controller"/>
  <rosparam file="$(find autonomous_flight)/cfg/mpc_navigation/fake_detector_param.yaml" />
  <rosparam file="$(find autonomous_flight)/cfg/mpc_navigation/flight_base.yaml" ns="autonomous_flight"/>
  <rosparam file="$(find autonomous_flight)/cfg/mpc_navigation/planner_param.yaml" />
  <rosparam file="$(find autonomous_flight)/cfg/mpc_navigation/mapping_param.yaml" ns="/dynamic_map" />
  <rosparam file="$(find autonomous_flight)/cfg/mpc_navigation/dynamic_detector_param.yaml" ns="/onboard_detector" />
  <rosparam file="$(find autonomous_flight)/cfg/mpc_navigation/predictor_param.yaml" ns="/dynamic_predictor" />

  <!-- Original Intent-MPC nodes -->
  <node pkg="tracking_controller" type="tracking_controller_node" name="tracking_controller_node" output="screen" />
  <node pkg="autonomous_flight" type="mpc_navigation_node" name="mpc_navigation_node" output="screen" />

  <!-- ACL global_mapper_ros (running in parallel for comparison) -->
  <include file="$(find global_mapper_ros)/launch/global_mapper_node.launch">
    <arg name="quad" value="CERLAB"/>
    <arg name="depth_image_topic" value="/camera/depth/image_raw"/>
    <arg name="odom_topic" value="/CERLAB/quadcopter/odom"/>
    <arg name="param_file" value="acl_mapper_cerlab.yaml"/>
  </include>

  <!-- RViz -->
  <include file="$(find remote_control)/launch/mpc_navigation_rviz.launch" />
</launch>
